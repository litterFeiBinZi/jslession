<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
	</body>
	<script type="text/javascript">
		window.onload = function() {
	
			var oBtn = document.getElementById('btn');
			
			
			oBtn.onclick = function() {
				
				var xhr = null;
				try {
					xhr = new XMLHttpRequest();
				} catch (e) {
					xhr = new ActiveXObject('Microsoft.XMLHTTP');
				}
				
				xhr.open('post','ajax post.php',true);
				//post方式，数据放在send()里面作为参数传递
				xhr.setRequestHeader('content-type', 'application/x-www-form-urlencoded');//申明发送的数据类型
				//post没有缓存问题
				//无需编码
				xhr.send('username=小明');
				
				xhr.onreadystatechange = function() {
					
					if ( xhr.readyState == 4 ) {
						if ( xhr.status == 200 ) {
							alert( xhr.responseText );
						} else {
							alert('出错了,Err：' + xhr.status);
						}
					}
					
				}
				
			}
		}
	</script>
</html>
